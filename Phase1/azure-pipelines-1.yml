trigger:
- main

pool:
  name: local-agent-pool

variables:
  PIPELINE_STAGE: "CI"
  AGENT_CHECK: "SelfHosted"

steps:
- checkout: self

- script: |
    set -e

    echo "=============================="
    echo "ðŸš€ Pipeline Stage : $PIPELINE_STAGE"
    echo "ðŸ¤– Agent Type     : $AGENT_CHECK"
    echo "=============================="

    echo "ðŸ”¹ Agent Details"
    echo "Hostname  : $(hostname)"
    echo "OS Info   :"
    uname -a

    echo ""
    echo "ðŸ”¹ Date & Time"
    date

    echo ""
    echo "ðŸ”¹ Disk Usage"
    df -h

    echo ""
    echo "ðŸ”¹ Memory Usage"
    free -h || vm_stat

    echo ""
    echo "âœ… Self-hosted agent is healthy and ready!"
  displayName: "Validate Self-hosted Agent Environment"
